<div *ngIf="tableData"
     class="wrapper">
    <ng-content select="ql-toolbar"></ng-content>
    <table class="mat-elevation-z10 table"
           mat-table
           [dataSource]="tableData"
	       #table>

        <!-- Headers -->
        <ng-container *ngFor="let def of columnDefs; let i = index"
                      [matColumnDef]="def">

            <th mat-header-cell
                *matHeaderCellDef
                class="capitalize"
            >
                {{ getColumnName(def) }}
            </th>
            <td mat-cell
                *matCellDef="let element">
                <ng-template [ngIf]="def !== extraColName"
                             [ngIfElse]="extraCol">
                    <ng-container *ngIf="!shouldDisplayTemplate(element, i); else customCol">
                        {{ element[def] }}
                    </ng-container>
                </ng-template>

                <!-- Use this template if the consumer wants to use a custom column template -->
                <ng-template #customCol>
                    <ng-container *ngTemplateOutlet="colTemplate; context: {row: element}">
                    </ng-container>
                </ng-template>

                <!-- Here the consumer can pass one extra column template they choose the template will
               receive the row object as template value -->
                <ng-template #extraCol>
                    <ng-container *ngTemplateOutlet="extraColTemplate; context: {row: element}">
                    </ng-container>
                </ng-template>
            </td>
        </ng-container>

        <!-- Values -->
        <tr mat-header-row
            *matHeaderRowDef="columnDefs">
        </tr>
        <tr mat-row
            *matRowDef="let row; columns: columnDefs;">
        </tr>
    </table>
</div>

